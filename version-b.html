<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Blindness Test - Version B (With Additional Indicators)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
        }

        header {
            background-color: #4285f4;
            color: white;
            padding: 1rem;
            text-align: center;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1,
        h2 {
            margin-bottom: 1rem;
        }

        .introduction {
            background-color: #fff;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .challenge {
            background-color: #fff;
            padding: 2rem;
            /* Aumentado de 1.5rem */
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            /* Aumentado de 1.5rem */
        }

        .selectable,
        .checkbox-item,
        .field-example {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .selectable.selected,
        .checkbox-item.selected,
        .field-example.selected {
            border: 2px solid #4285f4;
            box-shadow: 0 0 10px rgba(66, 133, 244, 0.3);
        }

        .checkbox-item input[type="checkbox"] {
            cursor: pointer;
        }

        /* Mejorar la visibilidad del estado seleccionado */
        .selected {
            transform: translateX(10px);
            border-color: #4285f4 !important;
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .challenge-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .challenge-content {
            margin-bottom: 1.5rem;
            /* Aumentado de 1rem */
            padding: 15px;
        }

        .buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-sizing: border-box;
            min-width: 100px;
            text-align: center;
            justify-content: center;
        }

        .btn-success {
            background-color: #34a853;
            color: white;
            border: 2px solid #0b8043;
        }

        .btn.selected {
            border-width: 3px;
            box-shadow: 0 0 10px rgba(66, 133, 244, 0.3);
        }


        .btn-error {
            background-color: #ea4335;
            color: white;
            border: 2px solid #b31412;
        }

        .btn-warning {
            background-color: #fbbc05;
            color: black;
            border: 2px solid #f29900;
        }

        .btn-info {
            background-color: #4285f4;
            color: white;
            border: 2px solid #1967d2;
        }

        .btn-neutral {
            background-color: #9aa0a6;
            color: white;
            border: 2px solid #80868b;
        }

        .chart {
            height: 300px;
            /* Aumentado de 250px */
            margin-bottom: 2rem;
            position: relative;
            padding: 20px;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            height: 200px;
            gap: 40px;
            /* Aumentado de 30px a 40px */
            margin: 40px 0;
            /* Añadido margen vertical */
            padding: 20px;
            /* Añadido padding */
        }


        .bar {
            width: 40px;
            position: relative;
            border: 2px solid #333;
        }

        .bar-value {
            position: absolute;
            top: -35px;
            /* Aumentado de -25px a -35px */
            left: 0;
            right: 0;
            text-align: center;
            font-weight: bold;
            padding: 5px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 4px;
        }

        .bar-label {
            position: absolute;
            bottom: -35px;
            /* Aumentado de -25px a -35px */
            left: 0;
            right: 0;
            text-align: center;
            padding: 5px;
            margin-top: 10px;
            font-weight: bold;
        }

        .bar-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.3;
            background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #000 5px, #000 10px);
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            position: relative;
            border: 1px solid #333;
        }

        .legend-pattern {
            width: 100%;
            height: 100%;
            opacity: 0.3;
            position: absolute;
            top: 0;
            left: 0;
        }

        .pattern-diagonal {
            background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #000 5px, #000 10px);
        }

        .pattern-dots {
            background-image: radial-gradient(circle, #000 1px, transparent 1px);
            background-size: 8px 8px;
        }

        .pattern-horizontal {
            background-image: repeating-linear-gradient(0deg, transparent, transparent 5px, #000 5px, #000 10px);
        }

        .pattern-vertical {
            background-image: repeating-linear-gradient(90deg, transparent, transparent 5px, #000 5px, #000 10px);
        }

        .status-indicator {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: 0.5rem;
            border: 1px solid #333;
        }

        .status-icon {
            font-size: 1rem;
        }

        .checkbox-group {
            display: flex;
            gap: 2.5rem;
            /* Aumentado de 2rem */
            margin: 20px 0;
            padding: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            /* Aumentado de 0.5rem */
            padding: 10px;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .pie-chart {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(#ea4335 0% 25%,
                    #fbbc05 25% 50%,
                    #34a853 50% 75%,
                    #4285f4 75% 100%);
            margin: 0 auto;
            position: relative;
            border: 2px solid #333;
        }

        .pie-segment {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .segment-label {
            position: absolute;
            font-weight: bold;
            color: #000;
        }

        .label-a {
            top: 15%;
            right: 20%;
        }

        .label-b {
            bottom: 15%;
            right: 20%;
        }

        .label-c {
            bottom: 15%;
            left: 20%;
        }

        .label-d {
            top: 15%;
            left: 20%;
        }

        .line-chart {
            position: relative;
            height: 200px;
            margin-top: 40px;
            margin-bottom: 20px;
        }

        .line {
            position: absolute;
            height: 3px;
        }

        .dot {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid #333;
        }

        .line-label {
            position: absolute;
            bottom: -30px;
            transform: translateX(-50%);
            text-align: center;
        }

        .line-value {
            position: absolute;
            transform: translate(-50%, -100%);
            font-size: 0.8rem;
            font-weight: bold;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 2px 5px;
            border-radius: 3px;
        }

        .dashed-line {
            border-style: dashed;
        }

        .solid-line {
            border-style: solid;
        }

        .heat-map {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            margin-top: 20px;
        }

        .heat-cell {
            height: 40px;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #000;
            border: 1px solid #333;
        }

        .form-group {
            margin-bottom: 1.5rem;
            /* Aumentado de 1rem */
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }


        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        input,
        select {
            width: 90%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 1rem;
        }

        .error-input {
            border: 2px solid #ea4335;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ea4335" width="24" height="24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>');
            background-repeat: no-repeat;
            background-position: calc(100% - 10px) center;
            background-size: 20px;
            padding-right: 40px;
        }

        .required-label::after {
            content: " *";
            color: #ea4335;
        }

        .required-field {
            position: relative;
        }

        .required-field::after {
            content: "Required";
            position: absolute;
            top: 0;
            right: 0;
            background-color: #ea4335;
            color: white;
            font-size: 0.7rem;
            padding: 2px 5px;
            border-radius: 3px;
        }

        .traffic-light {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #333;
            padding: 20px;
            /* Aumentado de 10px */
            border-radius: 15px;
            /* Aumentado de 10px */
            width: 100px;
            /* Aumentado de 80px */
            margin: 20px auto;
        }

        .light {
            width: 60px;
            /* Aumentado de 50px */
            height: 60px;
            /* Aumentado de 50px */
            border-radius: 50%;
            margin: 10px;
            /* Aumentado de 5px */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
            color: #000;
            font-weight: bold;
            border: 2px solid #000;
        }

        .category-box {
            width: 100px;
            height: 50px;
            border: 2px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            border-top: 1px solid #ddd;
            padding-top: 1rem;
        }

        /* Estilos para los resultados y alertas */
        .alert-success {
            background-color: rgba(52, 168, 83, 0.1);
            border: 2px solid #34a853;
            color: #34a853;
            padding: 10px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .alert-error {
            background-color: rgba(234, 67, 53, 0.1);
            border: 2px solid #ea4335;
            color: #ea4335;
            padding: 10px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Estilos para la lista de prioridades */
        .priority-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            /* Aumentado de 15px */
            margin: 20px 0;
        }

        .priority-item {
            background-color: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            /* Aumentado de 15px */
            display: flex;
            align-items: center;
            gap: 15px;
            /* Aumentado de 12px */
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px 0;
        }

        .priority-item:hover {
            transform: translateX(10px);
            border-color: #4285f4;
        }

        .priority-badge {
            margin-left: auto;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Estilos para los dispositivos */
        .devices-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .device-item {
            background-color: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .device-item:hover {
            transform: translateY(-5px);
            border-color: #4285f4;
        }

        .connection-status {
            width: 100%;
            text-align: center;
            padding: 8px;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }

        /* Estilos para alertas */
        .alerts-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            /* Aumentado de 15px */
            margin: 20px 0;
        }

        .alert-item {
            background-color: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            /* Aumentado de 15px */
            display: flex;
            align-items: center;
            gap: 15px;
            /* Aumentado de 12px */
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px 0;
        }

        .alert-item:hover {
            transform: translateX(10px);
            border-color: #4285f4;
        }

        .severity-indicator {
            margin-left: auto;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        /* Estilos para barras de progreso mejoradas */
        .progress-group {
            display: flex;
            flex-direction: column;
            gap: 20px;
            /* Aumentado de 15px */
            margin: 20px 0;
        }

        .progress-item {
            background-color: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            /* Aumentado de 15px */
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px 0;
        }

        .progress-item:hover {
            border-color: #4285f4;
        }

        .progress-bar {
            background-color: #4285f4;
            height: 20px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .progress-text {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 0.85rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* Estilos para elementos seleccionados */
        .selected {
            border-color: #4285f4 !important;
            box-shadow: 0 0 10px rgba(66, 133, 244, 0.3);
            position: relative;
        }

        .selected::after {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: #4285f4;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        /* Estilos para el modal de resultados */
        .results-summary {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .challenge-result {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 10px;
        }

        .challenge-result ul {
            list-style: none;
            padding: 0;
            margin: 10px 0 0;
        }

        .challenge-result li {
            margin-bottom: 5px;
            color: #666;
        }

        footer {
            background-color: #4285f4;
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: 2rem;
        }
    </style>
</head>

<body>
    <header>
        <h1>Prueba de Accesibilidad para Daltonismo - Versión B</h1>
        <p>Esta versión utiliza indicadores visuales adicionales además del color</p>
    </header>

    <div class="container">
        <section class="introduction">
            <h2>Acerca de este Experimento</h2>
            <p>Esta interfaz es parte de un estudio de investigación sobre accesibilidad web para usuarios con
                daltonismo. Esta es la
                <strong>Versión B</strong>, que utiliza <strong>color más indicadores visuales adicionales</strong>
                (iconos,
                patrones, etiquetas, etc.) para diferenciar elementos y transmitir información.
            </p>
            <p>Por favor complete los 10 desafíos siguientes para ayudarnos a entender cómo las interfaces mejoradas
                afectan la
                accesibilidad. Sus resultados serán comparados con la Versión A, que se basa únicamente en el color.</p>
        </section>

        <!-- Desafío 1: Estados de Botones -->
        <section class="challenge" id="challenge1">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 1: Identificar Estados de Botones</div>
                <div class="timer">Tiempo: <span id="timer1">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Haga clic en el botón que representa un estado de "Éxito":</p>
                <div class="buttons">
                    <button class="btn btn-error" onclick="checkAnswer(1, false)">
                        <i class="fas fa-times-circle"></i> Botón A (Error)
                    </button>
                    <button class="btn btn-success" onclick="checkAnswer(1, true)">
                        <i class="fas fa-check-circle"></i> Botón B (Éxito)
                    </button>
                    <button class="btn btn-warning" onclick="checkAnswer(1, false)">
                        <i class="fas fa-exclamation-triangle"></i> Botón C (Advertencia)
                    </button>
                    <button class="btn btn-info" onclick="checkAnswer(1, false)">
                        <i class="fas fa-info-circle"></i> Botón D (Información)
                    </button>
                    <button class="btn btn-neutral" onclick="checkAnswer(1, false)">
                        <i class="fas fa-minus-circle"></i> Botón E (Neutral)
                    </button>
                </div>
            </div>
            <div id="result1" class="result"></div>
        </section>

        <!-- Desafío 2: Gráfico de Barras -->
        <section class="challenge" id="challenge2">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 2: Interpretar Datos en Gráfico</div>
                <div class="timer">Tiempo: <span id="timer2">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>¿Qué categoría tiene el valor más alto? Seleccione la respuesta correcta:</p>
                <div class="chart">
                    <div class="bar-chart">
                        <div class="bar" style="height: 60%; background-color: #ea4335;">
                            <div class="bar-pattern"
                                style="background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #000 5px, #000 10px);">
                            </div>
                            <div class="bar-value">60%</div>
                            <div class="bar-label">Categoría A</div>
                        </div>
                        <div class="bar" style="height: 80%; background-color: #fbbc05;">
                            <div class="bar-pattern"
                                style="background-image: radial-gradient(circle, #000 1px, transparent 1px); background-size: 8px 8px;">
                            </div>
                            <div class="bar-value">80%</div>
                            <div class="bar-label">Categoría B</div>
                        </div>
                        <div class="bar" style="height: 40%; background-color: #34a853;">
                            <div class="bar-pattern"
                                style="background-image: repeating-linear-gradient(0deg, transparent, transparent 5px, #000 5px, #000 10px);">
                            </div>
                            <div class="bar-value">40%</div>
                            <div class="bar-label">Categoría C</div>
                        </div>
                        <div class="bar" style="height: 90%; background-color: #4285f4;">
                            <div class="bar-pattern"
                                style="background-image: repeating-linear-gradient(90deg, transparent, transparent 5px, #000 5px, #000 10px);">
                            </div>
                            <div class="bar-value">90%</div>
                            <div class="bar-label">Categoría D</div>
                        </div>
                        <div class="bar" style="height: 70%; background-color: #9aa0a6;">
                            <div class="bar-value">70%</div>
                            <div class="bar-label">Categoría E</div>
                        </div>
                    </div>
                </div>
                <div class="buttons">
                    <button class="btn btn-neutral" onclick="checkAnswer(2, false)">Categoría A</button>
                    <button class="btn btn-neutral" onclick="checkAnswer(2, false)">Categoría B</button>
                    <button class="btn btn-neutral" onclick="checkAnswer(2, false)">Categoría C</button>
                    <button class="btn btn-neutral" onclick="checkAnswer(2, true)">Categoría D</button>
                    <button class="btn btn-neutral" onclick="checkAnswer(2, false)">Categoría E</button>
                </div>
            </div>
            <div id="result2" class="result"></div>
        </section>

        <!-- Desafío 3: Indicadores de Estado -->
        <section class="challenge" id="challenge3">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 3: Identificar Indicadores de Estado</div>
                <div class="timer">Tiempo: <span id="timer3">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Relacione el estado correcto con cada indicador:</p>
                <div>
                    <span class="status-indicator" style="background-color: #34a853;">
                        <i class="fas fa-check status-icon"></i> Estado 1
                    </span>
                    <span class="status-indicator" style="background-color: #ea4335;">
                        <i class="fas fa-times status-icon"></i> Estado 2
                    </span>
                    <span class="status-indicator" style="background-color: #fbbc05;">
                        <i class="fas fa-exclamation status-icon"></i> Estado 3
                    </span>
                </div>
                <div class="form-group" style="margin-top: 5%;">
                    <label>Estado 1 (Verde con ícono de check) representa:</label>
                    <select id="status1">
                        <option value="">Seleccione una opción</option>
                        <option value="success">Éxito</option>
                        <option value="error">Error</option>
                        <option value="warning">Advertencia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Estado 2 (Rojo con ícono X) representa:</label>
                    <select id="status2">
                        <option value="">Seleccione una opción</option>
                        <option value="success">Éxito</option>
                        <option value="error">Error</option>
                        <option value="warning">Advertencia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Estado 3 (Amarillo con ícono de exclamación) representa:</label>
                    <select id="status3">
                        <option value="">Seleccione una opción</option>
                        <option value="success">Éxito</option>
                        <option value="error">Error</option>
                        <option value="warning">Advertencia</option>
                    </select>
                </div>
                <button class="btn btn-info" onclick="checkChallenge3()">Verificar</button>
            </div>
            <div id="result3" class="result"></div>
        </section>

        <!-- Desafío 4: Campos Requeridos -->
        <section class="challenge" id="challenge4">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 4: Identificar Campos Requeridos</div>
                <div class="timer">Tiempo: <span id="timer4">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Seleccione los campos obligatorios (en rojo):</p>
                <div class="checkbox-group">
                    <div class="checkbox-item" style="background-color: #ea4335;">
                        <input type="checkbox" id="field1">
                        <label for="field1">Nombre</label>
                    </div>
                    <div class="checkbox-item" style="background-color: #f8f9fa;">
                        <input type="checkbox" id="field2">
                        <label for="field2">Teléfono</label>
                    </div>
                    <div class="checkbox-item" style="background-color: #ea4335;">
                        <input type="checkbox" id="field3">
                        <label for="field3">Correo</label>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge4()">Verificar</button>
            </div>
            <div id="result4" class="result"></div>
        </section>

        <!-- Desafío 5: Barras de Progreso -->
        <section class="challenge" id="challenge5">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 5: Identificar Tarea Completada</div>
                <div class="timer">Tiempo: <span id="timer5">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Seleccione la tarea completada:</p>
                <div class="progress-group">
                    <div class="progress-item selectable" data-progress="75" style="cursor: pointer;">
                        <div class="progress-bar" style="width: 75%; background-color: #fbbc05;">
                            <span class="progress-text">Tarea 1: 75%</span>
                        </div>
                    </div>
                    <div class="progress-item selectable" data-progress="100" style="cursor: pointer;">
                        <div class="progress-bar" style="width: 100%; background-color: #34a853;">
                            <span class="progress-text">Tarea 2: 100%</span>
                        </div>
                    </div>
                    <div class="progress-item selectable" data-progress="30" style="cursor: pointer;">
                        <div class="progress-bar" style="width: 30%; background-color: #ea4335;">
                            <span class="progress-text">Tarea 3: 30%</span>
                        </div>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge5()">Verificar</button>
            </div>
            <div id="result5" class="result"></div>
        </section>

        <!-- Desafío 6: Niveles de Alerta -->
        <section class="challenge" id="challenge6">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 6: Identificar Alertas</div>
                <div class="timer">Tiempo: <span id="timer6">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Identifique la alerta crítica:</p>
                <div class="alerts-container">
                    <div class="alert-item selectable" data-severity="info"
                        style="background-color: #4285f4; cursor: pointer;">
                        <span>Actualización disponible</span>
                    </div>
                    <div class="alert-item selectable" data-severity="critical"
                        style="background-color: #ea4335; cursor: pointer;">
                        <span>Error crítico del sistema</span>
                    </div>
                    <div class="alert-item selectable" data-severity="warning"
                        style="background-color: #fbbc05; cursor: pointer;">
                        <span>Poco espacio en disco</span>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge6()">Verificar</button>
            </div>
            <div id="result6" class="result"></div>
        </section>

        <!-- Desafío 7: Estado de Conexión -->
        <section class="challenge" id="challenge7">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 7: Identificar Dispositivos</div>
                <div class="timer">Tiempo: <span id="timer7">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Encuentre el dispositivo desconectado:</p>
                <div class="devices-list">
                    <div class="device-item selectable" data-status="connected"
                        style="background-color: #34a853; cursor: pointer;">
                        <span>Portátil</span>
                        <div class="connection-status">Conectado</div>
                    </div>
                    <div class="device-item selectable" data-status="disconnected"
                        style="background-color: #ea4335; cursor: pointer;">
                        <span>Móvil</span>
                        <div class="connection-status">Desconectado</div>
                    </div>
                    <div class="device-item selectable" data-status="standby"
                        style="background-color: #fbbc05; cursor: pointer;">
                        <span>Tableta</span>
                        <div class="connection-status">En espera</div>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge7()">Verificar</button>
            </div>
            <div id="result7" class="result"></div>
        </section>

        <!-- Desafío 8: Validación de Formulario -->
        <section class="challenge" id="challenge8">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 8: Identificar Errores</div>
                <div class="timer">Tiempo: <span id="timer8">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Seleccione los campos que tienen errores de validación:</p>
                <div class="form-group">
                    <div class="field-example selectable" style="background-color: #34a853; cursor: pointer;">
                        <input type="checkbox" id="error1">
                        <label for="error1">Campo 1: John_Doe</label>
                    </div>
                    <div class="field-example selectable" style="background-color: #ea4335; cursor: pointer;">
                        <input type="checkbox" id="error2">
                        <label for="error2">Campo 2: correo.invalido</label>
                    </div>
                    <div class="field-example selectable" style="background-color: #ea4335; cursor: pointer;">
                        <input type="checkbox" id="error3">
                        <label for="error3">Campo 3: datos_faltantes</label>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge8()">Verificar</button>
            </div>
            <div id="result8" class="result"></div>
        </section>

        <!-- Desafío 9: Semáforo -->
        <section class="challenge" id="challenge9">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 9: Señales de Tráfico</div>
                <div class="timer">Tiempo: <span id="timer9">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Seleccione la luz que indica "Detenerse":</p>
                <div class="traffic-light">
                    <div class="light selectable" style="background-color: #ea4335; cursor: pointer;">
                        <span>Luz 1</span>
                    </div>
                    <div class="light selectable" style="background-color: #fbbc05; cursor: pointer;">
                        <span>Luz 2</span>
                    </div>
                    <div class="light selectable" style="background-color: #34a853; cursor: pointer;">
                        <span>Luz 3</span>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge9()">Verificar</button>
            </div>
            <div id="result9" class="result"></div>
        </section>

        <!-- Desafío 10: Niveles de Prioridad -->
        <section class="challenge" id="challenge10">
            <div class="challenge-header">
                <div class="challenge-title">Desafío 10: Identificar Tareas</div>
                <div class="timer">Tiempo: <span id="timer10">0s</span></div>
            </div>
            <div class="challenge-content">
                <p>Identifique la tarea de alta prioridad:</p>
                <div class="priority-list">
                    <div class="priority-item selectable" data-priority="low"
                        style="background-color: #34a853; cursor: pointer;">
                        <span>Revisar documentación</span>
                        <div class="priority-badge">Baja</div>
                    </div>
                    <div class="priority-item selectable" data-priority="high"
                        style="background-color: #ea4335; cursor: pointer;">
                        <span>Corregir error crítico</span>
                        <div class="priority-badge">Alta</div>
                    </div>
                    <div class="priority-item selectable" data-priority="medium"
                        style="background-color: #fbbc05; cursor: pointer;">
                        <span>Actualizar módulos</span>
                        <div class="priority-badge">Media</div>
                    </div>
                </div>
                <button class="btn btn-info" onclick="checkChallenge10()">Verificar</button>
            </div>
            <div id="result10" class="result"></div>
        </section>

        <div class="navigation">
            <button class="btn btn-info" onclick="showResults()">Show Results</button>
            <a href="index.html" class="btn btn-success" style="text-decoration: none;">Regresar a la Version A
                (Solo Colores)</a>
        </div>

        <!-- Modal de Resultados (oculto por defecto) -->
        <div id="results-modal"
            style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.5); z-index: 1000;">
            <div class="modal-content"
                style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 2rem; border-radius: 8px; width: 80%; max-width: 600px; max-height: 80vh; overflow-y: auto;">
                <h2>Resultados - Versión A (Solo Colores)</h2>
                <div id="results-summary"></div>
                <div id="detailed-results"></div>
                <div style="margin-top: 2rem; text-align: center;">
                    <button class="btn btn-info" onclick="closeResults()">Cerrar</button>
                    <button class="btn btn-success" onclick="resetExperiment()"
                        style="margin-top: 2%;">Reiniciar</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Un proyecto de investigación sobre accesibilidad web para usuarios con daltonismo</p>
        <p>Universidad ESPE - Departamento de Ingeniería de Software - 2025</p>
    </footer>

    <script>
        // Variables globales
        let startTime = new Date();
        let challengeResults = {
            total: 10,
            completed: 0,
            correct: 0,
            attempts: {},
            timers: {}
        };

        // Inicializar temporizadores
        for (let i = 1; i <= 10; i++) {
            challengeResults.timers[i] = 0;
            setInterval(() => {
                document.getElementById(`timer${i}`).textContent = `${++challengeResults.timers[i]}s`;
            }, 1000);
        }

        // Funciones de verificación para cada reto
        function checkAnswer(challengeNumber, isCorrect) {
            const resultDiv = document.getElementById(`result${challengeNumber}`);

            if (!challengeResults.attempts[challengeNumber]) {
                challengeResults.attempts[challengeNumber] = {
                    attempts: 0,
                    solved: false,
                    timeSpent: challengeResults.timers[challengeNumber]
                };
            }

            challengeResults.attempts[challengeNumber].attempts++;

            if (isCorrect && !challengeResults.attempts[challengeNumber].solved) {
                resultDiv.innerHTML = '<div class="alert-success"><i class="fas fa-check-circle"></i> ¡Correcto!</div>';
                challengeResults.correct++;
                challengeResults.completed++;
                challengeResults.attempts[challengeNumber].solved = true;
            } else if (!isCorrect) {
                resultDiv.innerHTML = '<div class="alert-error"><i class="fas fa-times-circle"></i> Incorrecto. Intenta de nuevo.</div>';
            }

            checkCompletion();
        }

        function closeResults() {
            document.getElementById('results-modal').style.display = 'none';
        }

        function checkChallenge1() {
            const selectedButton = document.querySelector('.btn-success.selected');
            const isCorrect = selectedButton !== null;
            checkAnswer(1, isCorrect);
        }

        function checkChallenge2() {
            const selectedButton = document.querySelector('.btn[data-category="D"].selected');
            const isCorrect = selectedButton !== null;
            checkAnswer(2, isCorrect);
        }

        // Funciones específicas para cada reto
        function checkChallenge3() {
            const status1 = document.getElementById('status1').value;
            const status2 = document.getElementById('status2').value;
            const status3 = document.getElementById('status3').value;

            const isCorrect = status1 === 'success' && status2 === 'error' && status3 === 'warning';
            checkAnswer(3, isCorrect);
        }

        function checkChallenge4() {
            const field1 = document.getElementById('field1').checked;
            const field2 = document.getElementById('field2').checked;
            const field3 = document.getElementById('field3').checked;

            const isCorrect = field1 && !field2 && field3;
            checkAnswer(4, isCorrect);
        }

        function checkChallenge5() {
            const selectedTask = document.querySelector('.progress-item[data-progress="100"]');
            const isCorrect = selectedTask && selectedTask.classList.contains('selected');
            checkAnswer(5, isCorrect);
        }

        function checkChallenge6() {
            const selectedAlert = document.querySelector('.alert-item[data-severity="critical"]');
            const isCorrect = selectedAlert && selectedAlert.classList.contains('selected');
            checkAnswer(6, isCorrect);
        }

        function checkChallenge7() {
            const selectedDevice = document.querySelector('.device-item[data-status="disconnected"]');
            const isCorrect = selectedDevice && selectedDevice.classList.contains('selected');
            checkAnswer(7, isCorrect);
        }

        function checkChallenge8() {
            const error1 = document.getElementById('error1').checked;
            const error2 = document.getElementById('error2').checked;
            const error3 = document.getElementById('error3').checked;

            // Los campos 2 y 3 tienen color rojo (#ea4335)
            const isCorrect = !error1 && error2 && error3;
            checkAnswer(8, isCorrect);
        }

        function checkChallenge9() {
            const selectedLight = document.querySelector('.light[style*="ea4335"]');
            const isCorrect = selectedLight && selectedLight.classList.contains('selected');
            checkAnswer(9, isCorrect);
        }

        function checkChallenge10() {
            const selectedTask = document.querySelector('.priority-item[data-priority="high"]');
            const isCorrect = selectedTask && selectedTask.classList.contains('selected');
            checkAnswer(10, isCorrect);
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Event listeners para elementos seleccionables
            const selectableElements = document.querySelectorAll('.selectable, .checkbox-item, .field-example');
            selectableElements.forEach(element => {
                element.addEventListener('click', function () {
                    const parent = this.closest('.challenge-content');
                    const type = this.classList.contains('checkbox-item') ? 'checkbox' : 'single';

                    if (type === 'checkbox') {
                        // Para checkboxes, permitir múltiples selecciones
                        const checkbox = this.querySelector('input[type="checkbox"]');
                        checkbox.checked = !checkbox.checked;
                        this.classList.toggle('selected', checkbox.checked);
                    } else {
                        // Para otros elementos, selección única
                        parent.querySelectorAll('.selected').forEach(el => {
                            if (el !== this) el.classList.remove('selected');
                        });
                        this.classList.toggle('selected');
                    }
                });
            });
        });


        function showResults() {
            const totalTime = Math.max(...Object.values(challengeResults.timers));
            const accuracy = (challengeResults.correct / challengeResults.total) * 100;

            const summaryHTML = `
                <div class="results-summary">
                    <h3>Resumen del Experimento</h3>
                    <table style="width: 100%; margin-bottom: 20px;">
                        <tr>
                            <td><strong>Retos completados:</strong></td>
                            <td>${challengeResults.completed}/${challengeResults.total}</td>
                        </tr>
                        <tr>
                            <td><strong>Respuestas correctas:</strong></td>
                            <td>${challengeResults.correct}</td>
                        </tr>
                        <tr>
                            <td><strong>Precisión:</strong></td>
                            <td>${accuracy.toFixed(1)}%</td>
                        </tr>
                        <tr>
                            <td><strong>Tiempo total:</strong></td>
                            <td>${totalTime} segundos</td>
                        </tr>
                    </table>
                    <div class="detailed-results">
                        <h3>Resultados por Desafío</h3>
                        ${Object.entries(challengeResults.attempts).map(([challenge, data]) => `
                            <div class="challenge-result">
                                <h4>Desafío ${challenge}</h4>
                                <ul>
                                    <li>Intentos: ${data.attempts}</li>
                                    <li>Estado: ${data.solved ? '✓ Completado' : '○ Pendiente'}</li>
                                    <li>Tiempo: ${data.timeSpent} segundos</li>
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            document.getElementById('results-summary').innerHTML = summaryHTML;
            document.getElementById('results-modal').style.display = 'block';
        }

        function checkCompletion() {
            if (challengeResults.completed === challengeResults.total) {
                setTimeout(() => {
                    alert('¡Has completado todos los retos! Haz clic en "Mostrar Resultados" para ver tu desempeño.');
                }, 500);
            }
        }

        // Función para reiniciar el experimento
        function resetExperiment() {
            challengeResults = {
                total: 10,
                completed: 0,
                correct: 0,
                attempts: {},
                timers: {}
            };

            document.querySelectorAll('.result').forEach(div => div.innerHTML = '');
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.querySelectorAll('select').forEach(select => select.value = '');

            startTime = new Date();
        }
    </script>
</body>

</html>